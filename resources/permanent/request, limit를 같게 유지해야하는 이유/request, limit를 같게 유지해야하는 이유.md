### 생성 날짜: 2024-03-23T16:18
### 주제: request, limit를 같게 유지해야하는 이유
---
### 본문:
helm chart로 서비스를 구성하다보면 resources.requests, resources.limits라는 설정을 볼 수 있습니다. 이번에는 request 와 limit를 함부러 다르게 유지하면 안 되는 이유에 대해서 경험담을 설명드리려고 합니다.

- request: 팟이 처음 생성될 때 할당 받을 최소 리소스
- limit: 팟이 할당 받을 수 있는 최대 리소스

일반적으로 requests 만큼 리소스를 받아서 limits까지 컴퓨팅 리소스를 증가시켜주기 위해 사용합니다.

위 설정과 동시에 오토스케일링 옵션을 설정했습니다. 오토스케일링 옵션은 부하테스트를 기반으로 측정을 했습니다.

예를 들어 1core가 최대 값인데 80%를 사용 중이면 오토스케일링을 하고 싶어 아래와 같이 리소스를 설정했다고 가정하겠습니다.

```
resource:
	requests:
		cpu: 0.5c
		mem: 1024mb
	limits:
		cpu: 1.0c
		mem: 1024mb
```

예상한 것과 같이 0.8core를 사용 중일 때 오토스케일링이 일어날까요?? 저의 경우에서는 0.4core만에 오토스케일링이 일어났습니다.

최초에 생각한 것은 0.5core를 받고 점진적으로 1.0core까지 리소스를 증가시키다가 1.0core는 80%를 사용하면 오토스케일링이 일어나는 아름다운 상황을 생각했지만



---
### 참고문헌
- 
---

