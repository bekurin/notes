### 생성 날짜: 2024-04-21T13:31
### 주제: 고수준 애플리케이션 패턴 구축
---
### 본문:

## 고수준 추상화 개발 방법
1. 쿠버네티스 세부 구현으로 포장한다. 
	1. 단점
		1. 인프라가 아닌 이상 수정이 힘들다.
		2. 특수한 요구사항을 들어주기 위해서는 매번 인프라의 도움을 받아야한다.
	2. 장점
		1. 쿠버네티스가 어떤 것인지 알지 않아도 된다.
2. 쿠버네티스 자체에 내장된 확장 기능을 사용한다.
	1. 단점
		1. 쿠버네티스에 대해 이해하고 있어야한다.
	2. 장점
		1. 개발자가 일정 부분 커스텀을 할 수 있다. (쿠버네티스 API를 대체하는 모니터링 도구 개발 등)

## 쿠버네티스 확장
클러스터를 확장하는 3가지 방법이 존재한다.
1. 사이드카 패턴: 같은 파드 내부에 서로 다른 컨테이너로 실행되고, 특수한 기능을 사이드카 컨테이너에서 실행하는 구조
2. 어드미션 컨트롤러: 쿠버네티스 API 요청을 클러스터의 백업 스토리지에 저장하기 전에 가로챕니다.
	1. 이것을 잘 활용하면 모든 API 요청의 rate-limiter, 리소스 제한 등의 기능을 손쉽게 구현할 수 있을 것 같다.
3. CRD 활용: 새로운 리소스 유형을 생성하면 자동으로 디플로이먼트, 서비스 리소스를 만드는 등을 역할을 수행할 수 있다.

## 쿠버네티스 UX 확장
kubectl CLI를 대부분 사용하는데 명령어에 따라 바이너리 파일을 실행하는 것이므로 명령에 대한 상세한 설명을 추가하는 등으로 확장하면 쿠버네티스를 잘 모르는 개발자도 금세 이해할 수 있게 된다.

## 플랫폼 구축시 설계 고려 사항
### 컨테이너 이미지 내보내기 지원
플랫폼은 애플리케이션을 컨테이너화 처리를 하지만 기본 패키지(jar) 또는 함수 구현 내용을 반환 받을 수 있도록 기능을 제공해주면 디버깅 등 문제가 발생했을 때 바로 실행해볼 수 있다.

하지만 이는 특정 언어 버전이 필요한 경우, 특정 리소스를 추가하여 실행해야하는 경우에는 오히려 불편해질 수 있다.(이거는 핫픽스 또는 정기배포에 구현되어 나가야하는 것이 아닌지?) 

따라서 이를 대응하기 위해서는 플랫폼 환경을 일반 컨테이너로 실행할 수 있도록 기능을 제공해주면 쿠버네티스를 활용하여 배포하는 것까지는 몰라도 된다.

### 서비스와 서비스 디스커버리를 위한 기존 메커니즘 지원
플랫폼에 정의된 애플리케이션을 쿠버네티스 서비스로 노출하여 클로스터 내의 모든 서비스에서 애플리케이션을 사용할 수 있도록 구현하는 것이 좋다.



---
### 참고문헌
- 
---
### 연결문서
- 

