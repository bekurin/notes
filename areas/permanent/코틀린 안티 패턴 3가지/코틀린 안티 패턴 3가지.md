### 생성 날짜: 2023-10-07T23:11
### 주제: 코틀린 안티 패턴 3가지
지난 1년간 kotlin을 실무에서 사용하면서 생각한 안티 패턴 3가지를 정리한다.

---
### 본문:
#### 반환값 명시
반환값을 명시하지 않아도 된다. 
```
fun doSomething = "Do Something!"
```
함수를 정의할 때 반환값과 block body를 제거할 수 있다. 특히 반환값 생략은 함수의 역할을 파악하는데에 걸림돌이가 되기 때문에 경계해야할 것 같다.
#### default parameter
자유도가 높아 함수의 역할이 모호해짐
- of: 객체 생성에 필요한 모든 파라미터를 입력하여 객체를 생성하는 함수
- any: 임의의 값으로 생성된 파라미터로 객체를 생성하는 함수
위와 같은 함수가 있을 때 of 함수에 default parameter를 적용하면 of 는 any 함수의 역할까지 담당할 수 있게 변함

추가로 모든 파라미터에 default parameter를 설정하면 파라미터의 개수를 n이라고 할 때 n!개의 함수가 생성된다. ㅇㅅㅇ

잘 사용하면 유용할 것으로 판단되지만 아직 best practice를 본적이 없어 안티 패턴과 같이 생각하고 있다.

추가로 default Parameter의 등장으로 함수의 파라미터를 추가하는 것이 너무 쉬워졌습니다.

```
fun test(parameter1: String, parameter2:String = "")
```

위처럼 추가 파라미터를 위해서는 함수의 맨 끝에 추가 파라미터를 선언하고, default parameter를 선언해주기만 하면 됩니다.

유용하지만 이는 어떤 변수가 어디서 어떻게 사용됐는지 파악하기 어렵게 하기 때문에 좋지 못하다고 생각했습니다.

#### 확장 함수
확장 함수의 장점은 분명하지만 확장 함수의 단점 또한 분명하다.
장점은 이름과 같이 외부 라이브러리에 필요한 기능을 추가하고 싶은 경우 간단하게 추가할 수 있다는 것이고, 단점은 테스트 코드 작성 시에 확장 함수는 정적 함수이기 때문에 테스트할 수 없다는 것이다.

```
fun findByIdOrThrow(id: Int)...


fun findById(id: Int)...
```
위와 같이 findByIdOrThrow라는 함수를 확장 함수로 정의했다고 한다면 findByIdOrThrow를 mocking하기 위해서는 함수 내부의 구현된 service, repository의 함수를 찾아서 모두 mocking 해줘야한다.

---
### 참고문헌
- 
---
### 연결문서
- 

